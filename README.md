# Documents Viewer

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

![1.png](1.png)

## –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

[–°—Å—ã–ª–∫–∞ –Ω–∞ github-pages](https://daniilmaslof.github.io/document-viewer)

### –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª (**CDK Virtual Scroll**). –ë–µ–∑ –Ω–µ–≥–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ—â–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π document viewer.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **custom virtual scroll strategy** –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.  
    –°–µ–π—á–∞—Å —Ä–∞–∑–º–µ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –ø–µ—Ä–≤—ã—Ö 32 –±–∞–π—Ç (`Range: 'bytes=0-32'`) PNG-—Ñ–æ—Ä–º–∞—Ç–∞.  
    –õ—É—á—à–µ, —á—Ç–æ–±—ã —Ä–∞–∑–º–µ—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ —Å—Ä–∞–∑—É –∏–∑ API.
>  **–ú–∏–Ω—É—Å—ã**: –ù—É–∂–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä—ã –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑–º–µ—Ä–∞—Ö –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–µ –∞–ø–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª–æ—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–ª–æ—è –¥–ª—è –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –í PNG –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

- –î–ª—è **zoom** —É–≤–µ–ª–∏—á–∏–≤–∞—é —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é offset —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Å–¥–≤–∏–≥–∞.
- –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞—é –Ω–µ–≤–∏–¥–∏–º—ã–π —Å–ª–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π. –†–∞–∑–º–µ—Ä –∏ –ø–æ–∑–∏—Ü–∏—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.

  >  **–ú–∏–Ω—É—Å—ã**: –ü—Ä–æ—Ü–µ–Ω—Ç—ã –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ—á–Ω—ã ‚Äî –≤–æ–∑–º–æ–∂–Ω–∞ –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å –∏–∑-–∑–∞ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–π.

- –î–ª—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Å–æ–∑–¥–∞–ª **CVA** (ControlValueAccessor) –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–ª–æ–∂–µ–Ω–∏—è (`cdk-drag-drop`).

  >  **–ú–∏–Ω—É—Å—ã**: –ù–µ–ª—å–∑—è —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏.
- –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é –¥–∏–∞–ª–æ–≥ `input file` + drag and drop + [readDataUrlAsImage](https://github.com/daniilmaslof/document-viewer/blob/master/projects/common/src/lib/core/utils/rxjs/read-data-url-as-image.ts).
  >  **–ú–∏–Ω—É—Å—ã**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç —Å—Ä–∞–∑—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å cropper –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –¥–∏–∞–ª–æ–≥–µ.


- –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–∑–¥–∞–ª —Ñ–æ—Ä–º—É —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞.
  ![2.png](2.png)
  >  **–ú–∏–Ω—É—Å—ã**: –í—Å—ë, –∫—Ä–æ–º–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, –º–æ–∂–µ—Ç –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å—Å—è ‚Äî –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ `FormArray` –¥–ª—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π.

- –î–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è `font-size` –∏ –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `--scale-factor`.
### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ —Å–¥–≤–∏–≥–æ–º viewport –Ω–∞–ø—Ä–∞–≤–æ, –∫–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç —à–∏—Ä–æ–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.  
  –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –∏ –∑–∞—Ä–∞–Ω–µ–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª.

- **–ö–≤–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ**: –µ—Å–ª–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –º–Ω–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü —Ñ–æ—Ä–º–∞—Ç–∞ A0, –ª–æ–≥–∏—á–Ω–æ —Å—Ä–∞–∑—É –∑–∞—Å–∫–µ–π–ª–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥ viewport.  
  –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –≤—ã—á–∏—Å–ª—è—Ç—å `squareFactor`.  
  –ü–æ–∫–∞ —Ñ–∏–∫—Å –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω.

- –ü—Ä–æ–±–ª–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ `page`, `annotations`.

  > üí° **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å placeholder –≤ base64 –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∏–∑–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞, –∞ –∑–∞—Ç–µ–º –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ `scale` –∏–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∫—Ä–∞—Å–Ω—ã–π –∫–∞—Ä–∞–Ω–¥–∞—à.
  > üí° **–†–µ—à–µ–Ω–∏–µ**: –†–µ–Ω–¥–µ—Ä–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ canvas.

- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

  > üí° **–†–µ—à–µ–Ω–∏–µ**: –í–∫–ª—é—á–∏—Ç—å –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–º–µ—â–∞–ª–∏—Å—å –≤ —ç–∫—Ä–∞–Ω, –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–¥–∏–∞–ª–æ–≥–∏, –∫–Ω–æ–ø–∫–∏, –º–µ–Ω—é) –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö.`.
- –û—Ç—Å—É—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤.

  > üí° **–†–µ—à–µ–Ω–∏–µ**: –î–æ –¥–µ–¥–ª–∞–π–Ω –±—ã–ª–æ –µ—â–µ –¥–≤–∞ –¥–Ω—è. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã. –£–¥–∞–ª–∏—Ç—å Karma –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∫–∞–∫ angular –≤–Ω–µ–¥—Ä–∏–ª vitest [experimental-unit-test](https://github.com/angular/angular/blob/main/adev/src/content/guide/testing/experimental-unit-test.md)